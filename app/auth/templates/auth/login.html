{% extends "base.html" %}
{% block title %}Logowanie{% endblock %}
{% block content %}
<div class="container py-5" style="max-width:560px">
  <h1 class="h3 mb-4">Zaloguj się</h1>

  <form method="POST" novalidate>
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.identifier.label(class="form-label") }}
      {{ form.identifier(class="form-control", placeholder="Email lub nazwa użytkownika") }}
      {% for e in form.identifier.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
    </div>

    <div class="mb-3"> <!-- [ZMIANA] Zmniejszony margines dolny z mb-4 na mb-3 -->
      {{ form.password.label(class="form-label") }}
      {{ form.password(class="form-control", placeholder="Hasło") }}
      {% for e in form.password.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
    </div>

    <!-- [ZMIANA] Dodany checkbox "Pamiętaj mnie" (Token 4.0) -->
    <div class="mb-3 form-check">
      {{ form.remember_me(class="form-check-input") }}
      {{ form.remember_me.label(class="form-check-label") }}
    </div>

    <div class="d-grid gap-2">
      {{ form.submit(class="btn btn-primary btn-lg") }}
      
      <!-- [ZMIANA] Poprawka ikony Google i dodanie przycisku Facebook -->
      <a href="{{ url_for('auth.google_login') }}" class="btn btn-outline-light">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google me-1" viewBox="0 0 16 16">
          <path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.25C3.21 6.638 3 7.29 3 8s.21 1.362.508 1.986C4.14 11.491 5.912 12.834 8 12.834c1.388 0 2.522-.447 3.308-1.256l2.384 2.384c-1.27 1.187-2.955 1.9-4.852 1.9z"/>
        </svg>
        Zaloguj przez Google
      </a>
      <a href="{{ url_for('auth.facebook_login') }}" class="btn btn-outline-light">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook me-1" viewBox="0 0 16 16">
          <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0 0 3.603 0 8.049c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/>
        </svg>
        Zaloguj przez Facebook
      </a>
    </div>

    <p class="mt-3 small text-muted">
      Nie masz konta? <a href="{{ url_for('auth.register') }}">Zarejestruj się</a>.
    </p>
  </form>
</div>
{% endblock %}
